<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js">
  </script>

  <title>Document</title>
</head>
<body>
  <div>
    <table>

<tr>
  <td colspan="5"><h1>Directory</h1></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td colspan="1"><input type="button" value="new contact" class="btnNewContact"></td>
  </tr>

    </table>
    <hr>
  </div>

  <div>
    <table  border="1">

      <thead>
          <tr>
              <th>No.</th>
              <th>Name</th>
              <th>Phone</th>
              <th>Category</th>
              <th>Memo</th>
              <th colspan="2"></th>
    
          </tr>




      </thead>
      <tbody id="bodyContent">
        <tr id="noContactTr">
          <td colspan="7">No contact !</td>
        </tr>
        <tr class="item">
          <td class = "num" value = "1">1</td>
          <td class = "name">Lucy</td>
          <td class = "phone">0912345678</td>
          <td class = "category">friend</td>
          <td class = "memo">cat person</td>
          <td><input type="button" value="Edit" class="edit"></td>
          <td><input type="button" value="Remove" class="remove"></td>
         
        </tr>
  
        <tr>
            <td>02</td>
            <td>Harry</td>
            <td>0912000123</td>
            <td>co-worker</td>
            <td></td>
            <td><input type="button" value="Edit" class="edit"></td>
            <td><input type="button" value="Remove" class="remove"></td>
          </tr>
  
          <tr>
              <td>03</td>
              <td>Rita</td>
              <td>0912123456</td>
              <td>family</td>
              <td >english class (Tue.)</td>
              <td><input type="button" value="Edit" class="edit"></td>
              <td><input type="button" value="Remove" class="remove"></td>
            </tr>
  <!-- edit -->
            <tr>
                <td>04</td>
                <td><input type="text" value="Janet"></td>
                <td><input type="tel" value="0911555555"></td>
                <td><select name="category">
                  <option value="family">family</option>
                  <option value="friend">friend</option>
                  <option value="co-worker">co-worker</option>
                  <option value="teacher">teacher</option>
                  <option value="acquaitance">acquaitance</option>
                  <option value="classmate">classmate</option>
                </select>
                </td>
                <td><textarea name="memoContent"  cols="30" rows="3" >輸入你想要寫的內容...</textarea></td>
                <td><input type="button" value="Save" id="btnCreateNewContact"></td>
                <td><input type="button" value="Cancel"></td>
              </tr>
  <!-- add new contact -->
              <!-- <tr>
                  <td class="itemNumber"></td>
                  <td><input type="text" placeholder="Name"></td>
                  <td><input type="tel" placeholder="Phone"></td>
                  <td><select name="select" >
                    <option value="selected"></option>
                    <option value="family">family</option>
                    <option value="friend">friend</option>
                    <option value="co-worker">co-worker</option>
                    <option value="teacher">teacher</option>
                    <option value="acquaitance">acquaitance</option>
                    <option value="classmate">classmate</option>
                  </select>
                  </td>
                  <td><textarea name="memoContent"  cols="30" rows="3" placeholder="write anything you want"></textarea></td>
                  <td><input type="button" value="Save"></td>
                  <td><input type="button" value="Cancel" id="cancelAdding"></td>
                  
                
                </tr> -->
              </tbody>
      </table>
    </div>
  
    <div id="tmplNewContract" style="display: none;">
       <table>
        <tr id="addNewContactHtml">
          <td class="itemNumber"></td>
          <td><input type="text" placeholder="Name"></td>
          <td><input type="tel" placeholder="Phone"></td>
          <td><select name="select" >
            <option value="selected"></option>
            <option value="family">${asds}</option>
            <option value="friend">friend</option>
            <option value="co-worker">co-worker</option>
            <option value="teacher">teacher</option>
            <option value="acquaitance">acquaitance</option>
            <option value="classmate">classmate</option>
          </select>
          </td>
          <td><textarea name="memoContent"  cols="30" rows="3" placeholder="write anything you want"></textarea></td>
          <td><input type="button" value="Save" btnCreateNewContact></td>
          <td><input type="button" value="Cancel" id = "cancelAdding"></td>
        </tr>
      </table>
  </div >


  <div id = "templEditContact" style="display: none;">
    <table>

      <tr>
        <td>04</td>
        <td><input type="text" value="Janet"></td>
        <td><input type="tel" value="0911555555"></td>
        <td><select name="category">
          <option value="family">family</option>
          <option value="friend">friend</option>
          <option value="co-worker">co-worker</option>
          <option value="teacher">teacher</option>
          <option value="acquaitance">acquaitance</option>
          <option value="classmate">classmate</option>
        </select>
        </td>
        <td><textarea name="memoContent"  cols="30" rows="3" >輸入你想要寫的內容...</textarea></td>
        <td><input type="button" value="Save" id="btnCreateNewContact"></td>
        <td><input type="button" value="Cancel"></td>
</tr>


    </table>

  </div>
  
<script>
var contactInfo = {};
var Person = {
  number : "",
  name : "",
  phone : "" ,
  category : "",
  memo : "", 
};


function createNewContact(){




}
  //remove contact
  $(document).ready(function(){

    //remove contact info
  $(".remove").click(function(){
    var answer = confirm("Are you sure you want to delete this contact info?");
    if (answer == true){
      $(this).parents("tr:eq(0)").remove();
    } else {
      //do nothing
    }
  });

      //edit contact info 
    $(".edit").click(function(){
      // var num = $(this).parents(".num").text;
      // var name = $(this).parents(".name").text;
      // var phone = $(this).parents(".phone").text;
      // var category = $(this).parents(".category").text;
      // var memo = $(this).parents(".memo").text;
      // console.log();
      var info = getValue($("this"));
  //add edit template
     var temp = $("#templEditContact tbody tr")[0].outerHTML;
     $("#bodyContent").append(temp);
//select  
$("#templEditContact tbody tr")[0]
//assign values on edit mode

//      <tr>
//         <td>04</td>
//         <td><input type="text" value="Janet"></td>
//         <td><input type="tel" value="0911555555"></td>
//         <td><select name="category">
//           <option value="family">family</option>
//           <option value="friend">friend</option>
//           <option value="co-worker">co-worker</option>
//           <option value="teacher">teacher</option>
//           <option value="acquaitance">acquaitance</option>
//           <option value="classmate">classmate</option>
//         </select>
//         </td>
//         <td><textarea name="memoContent"  cols="30" rows="3" >輸入你想要寫的內容...</textarea></td>
//         <td><input type="button" value="Save" id="btnCreateNewContact"></td>
//         <td><input type="button" value="Cancel"></td>
// </tr>

  })
   
});


$(document).ready(function(){
  //   //function (2)
  //   $(".edit").click(function(){

  //     // var item = $(this).parents("tr:eq(0)")[0].outerHTML;
  //     var num = $("#num").text();
  //     var name = $("this").parents("#item td:eq(1)");
  //     alert(name);
  
  // })
  
})
//add new contact
$(document).ready(function(){


  $(".btnNewContact").click(function(){
    var trObj = $("#tmplNewContract tbody tr")[0].outerHTML;
    $("#bodyContent").append(trObj);
    //bind click event on canceladding button
    $("#cancelAdding").on("click",function(){
    $("#addNewContactHtml").remove();
})
    
  });
});

function getValue() {
  var person = Object.assign({}, Person);
  person['number'] = $(this).parents(".num").text();
  person.name =$(this).parents(".name").text();
  person.phone =  $(this).parents(".phone").text();
  person.category =$(this).parents(".category").text();
  person.memo = $(this).parents(".memo").text();
    //  console.log(person['number']) ;


      // person.number = num;
      // person.name = name;
      // person.phone = phone;
      // person.category = category;
      // person.memo = memo;
      // var contactArray = {};
       contactInfo = person;

      
  return contactInfo;
}

</script>

  
</body>
</html>